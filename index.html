<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
    <link href="/style.css" rel="stylesheet" type="text/css"><link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald' rel='stylesheet' type='text/css'>
    <title>亚飞，坚强！</title>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-47887894-1', 'auto');
      ga('send', 'pageview');
      
    </script>
  </head>
  <body class="HolyGrail Site">
    <header></header>
    <div class="HolyGrail-body">
      <main class="HolyGrail-content Site-content">
        <article>
          <header>
            <h2>Meteor: the first month</h2>
            <time>March 21st 2015</time>
          </header>
          <hr><p>There&#39;s an exciting new stack for optimistic developers called Meteor and I&#39;ve had the great pleasure of focusing on learning it for the past month. This is what I&#39;ve learned.</p>
<p>Meteor is framework based on the high-minded ideal of <em>isomorphic</em> javascript, which is a fancy way of saying, &quot;It&#39;s javascript, on the server too!&quot; I find this notion absolutely titilating, though I&#39;m sure other&#39;s are heaving at the very thought. Ok, that&#39;s fair. But give it a chance! It&#39;s an incredibly flexible technology and with a little bit of experience, you&#39;ll find that Meteor is a fantastic tool for building prototypes which evolve into mature software. Meteor is production ready and the time to dive in is now!</p>
<h2 id="the-basics">The basics</h2>
<h3 id="meteor-is-not-like-rails-">Meteor is not like Rails.</h3>
<p>I&#39;m a RoR guy. I bet if you are reading this, there&#39;s a good chance that you cut your teeth on Rails. <strong>Forget all of it.</strong></p>
<p>Meteor does not use HTTP to communicate between the server and client. Rather, it uses Websockets and the Distributed Data Protocol (DDP) to create magical, reactive variables which map Mongo documents to the view.</p>
<p>Meteor uses Collections to store individual documents but by publishing and subscribing to other collections over DDP. This feels weird, at first, but it&#39;s actually quite natural.</p>
<p>The server publishes some orders</p>
<pre><code>
Meteor.publish &#39;validOrders&#39; -&gt;
 Orders.find {&#39;valid&#39;: true}, {userId: 0}


Meteor.publish &#39;myOrders&#39; -&gt;
 Orders.find {&#39;userId&#39;: Meteor.userId()}</code></pre>
<p>and the client subscribes</p>
<pre><code>Meteor.subscribe &#39;orders&#39;
Meteor.subscribe &#39;myOrders&#39;</code></pre>
<p>Hence, the client <em>has access</em> to a subset of all Order documents. You an even limit not just a set, but you can whitelist and blacklist certain attributes. This is an important distinction. The client now has access to</p>
<ul>
<li>Orders of which &quot;belong&quot; to said users</li>
<li>Orders which are valid but not the userId fields</li>
</ul>
<p>And this subscription is now reactive and those order directly map to HTML through you handlebars templates. And the client is usually requesting a subset of records based on a query.</p>
<pre><code>Template.example.helpers
 orders: -&gt;
  Orders.find({active: true})</code></pre>
<p>Therefore, the documents which are shared are the overlap between these 2 subsets- those published by the server and those queried from a helper.</p>
<p>Of course, if you are a beginner, you&#39;ve got the autopublish package installed and every document is simply available to the client. That&#39;s fine for now but don&#39;t leave it in your app forever.</p>
<p>A similar package to look out for is the <code>insecure</code> which allows the &quot;client to write to the database&quot;. It think this is a bit of a mischaracterization, because the client can&#39;t ever &quot;write to the database.&quot; Every write to the database is done over Meteor Methods. The <code>insecure</code> package simply implement this niavely- you&#39;l want your version of the same methods to have more security</p>
<p>Overall, the impression upon me is very different from Rails. Rails is about strict separation of logic and view, with a controller to handle the details of http. Meteor is less &quot;opinionated&quot; but it forces you to deal more directly with details in a less abstract way. You need to understand the underlying technology. Out of the box, Meteor enforces no MVP, though you <em>could</em> implement such. Be careful, because without those rails, it&#39;s easy to tangle your logic and your implementation!</p>
<h3 id="meteor-is-backed-by-a-mongo-db-and-loves-json">Meteor is backed by a mongo db and loves JSON</h3>
<p>Adios SQL! I&#39;ve personally always despised SQL. I <em>get</em> it, sort of, but it never felt natural. Mongo is a breath of fresh air. Not only is every document a plain JSON object, queries are also JSON. Yes, you can have a schema, if you want. Yes, migrations are an real consideration. </p>
<h3 id="meteor-requires-yet-another-package-manger-">Meteor requires <strong>yet another</strong> package manger.</h3>
<p>It is, however, a very nice and necessary.</p>
<h3 id="meteor-is-a-framework-not-a-library-">Meteor is a framework, not a library.</h3>
<p>This is a blessing in disguise. Node devs will know all too well the horror of the &quot;callback hell.&quot; To me, it&#39;s a flaw in the language to have such poor, inconsistent support for asynchronous operations. Sorry folks, js just kind of stinks like that. But with Meteor, this issue is mostly sidestepped. Meteor calls your functions, not the other way round. So good (presumbly!) practices are enforced from above, quite frankly for the better.</p>
<h3 id="but-it-s-still-just-js">But it&#39;s still just js</h3>
<p>Let&#39;s face facts: node&#39;s asynchronous support is overhyped. Sure, it powerful but the community is fragmented on how to support asynchronous operations and it&#39;s hard to implement. Promises, threads, futures, generators, etc are absolutely overwhelming and bewildering. Meteor does it&#39;s best to shield you from these concerns but you&#39;ll still have to tackle these complex issues at some point.</p>
        </article>
        <article>
          <header>
            <h2>First post</h2>
            <time>February 11th 2015</time>
          </header>
          <hr><p>This is my first blog post!!!</p>
        </article>
        <article>
          <header>
            <h2>Soylent, day to day</h2>
            <time>February 12th 2015</time>
          </header>
          <hr><p>Ever since I backed Soylent on Kickstarter, I&#39;ve been a little obsessed with the stuff. Well, &quot;obsessed&quot; might not be the right word... &quot;consumed&quot; might be a better. &quot;Evangelical&quot; has been tossed around. Seriously, a day does not go by when I do not attempt to bring some poor soul into fold. If someone asks what biege slurry I&#39;m gulping down, I launch into a full scale attack to win the hearts and minds of &quot;fooders&quot; and turn them into &quot;Soylentarians.&quot;</p>
<h3 id="what-s-in-it-">What&#39;s in it?</h3>
<p>Mostly sugar. Maltodextrin to be specific. Sugars are molecules in the form of a chain. Shorter chains are the sugars you are most familiar with. Table sugar, HFC&#39;s glucose, sucrose and fructose fall into this category. Long chains are your breads, pastas and rice- all the starches. Maltodextrin is &quot;medium&quot; length, so it doesn&#39;t taste very sweet. Your body &quot;burns&quot; these sugars more slowly than candy-sugar but faster than pasta-sugar. Next comes oats and brown rice flour. These provide your protein and fiber. Everything else is your vitamins and minerals. Lastly, don&#39;t forget the oils! We need oil in our diet and every daily allotment of Soylent includes a vial of oil.</p>
<p>Strangely, Soylent is missing 100% a crucial ingredient- salt!. This only matters if you eat Soylent and Soylent alone or you run marathons. Ordinary food, even when supplemented by Soylent, provides more than enough salt. I think they skimped on this to improve the taste.</p>
<h3 id="how-do-you-get-it-">How do you get it?</h3>
<p>Order it online. You can get 1 weeks, 2 weeks or 4 weeks worth of Soylent at a time. If you buy the subscription, you get a discount. If it&#39;s your first order, it&#39;s going to take a long time. Go complain about it on the forums but it won&#39;t do any good. It took me a year and half to get mine! But after your first shipment, latter orders arrive much faster.</p>
<h3 id="how-do-you-make-it-">How do you make it?</h3>
<p>Each daily serving of Soylent is a bag of powder and a vial of oil. Put the powder in the pitcher and add water. Shake until well mixed. Add the oil and shake again. Serve chilled. Each pitcher is 2000 calories- the FDA recommended amount of <em>everything</em>. I divide it up into 2 meals and snack, in 3 of those shaker bottles, so it&#39;s not unusual for me to eat nothing but Soylent and coffee.</p>
<h3 id="what-s-it-taste-like-">What&#39;s it taste like?</h3>
<p>I would not be ungracious if I said Soylent tastes a bit like Play Do. Not in a bad way though. It&#39;s slightly sweet but more than anything at all, it&#39;s utterly bland. There&#39;s a distinct texture which has been described as &quot;silty.&quot; I don&#39;t find it unpleasant but others do. I don&#39;t understand this at all- my best guess is that it&#39;s a subconscious bias.</p>
<h3 id="what-s-it-like-living-on-soylent-">What&#39;s it like living on Soylent?</h3>
<p>Well, first, I don&#39;t live on Soylent alone and I don&#39;t recommend anyone try. Living on Soylent alone would be a sad existence. It&#39;s also more dangerous than even I dare to tread. Though I consume more than 50% of my food as Soylent, I&#39;m still wary about the long term effects. But more than that, food is good and after eating Soylent for breakfast and lunch, by dinner I want sweet, salty, spicy food! I can&#39;t stress this enough. After the blandness of Soylent, &quot;real&quot; food tastes extraordinary. Your taste buds get reset and you can&#39;t help but ruminate on your food. The tastes and textures are so much more pronounced, even boring foods like toast are exciting. But our modern foods are absolutely bursting with sugar, salt and fat and with a fresh palette spicy chicken wings, Doritos, chocolate and Dr Pepper will absolutely blow your mind! It&#39;s like eating again for the first time.</p>
<p>Another big change is that you have more of your most important resources- time and money. If you were like me, you were spending up to $20 a day on food and over an hour of time shopping, cooking, eating and then cleaning up after. On Soylent, you can make all 3 meals in 60 seconds, for less than 10 bucks. There are days when the dishwasher is full of nothing but the pitcher and shaker bottles.</p>
<h3 id="what-are-the-downsides-">What are the downsides?</h3>
<p>The worst problem is well documented on the forums- Solent Farts. It&#39;s advised that you gradually increase your Soylent intake, as to give your gut a chance to adjust. Otherwise you can expect some really explosive gas. &quot;Fart&quot; really is an insufficient term- I had <em>tremendous</em> gas, so much so that it hurt my abdomen digesting Soylent. GasX and Beano are prescribed but theres quite a few solutions floating around the forums. Thankfully, these symptoms subside eventually. I haven&#39;t had any gas at all after v1.3 but your mileage may vary.</p>
<p>Another problem is one of will power. Like I said, Soylent makes you appreciate the sensation of eating real food. Soylent nourishes the body but not the soul. If your not careful, you will find yourself walking out of the grocery store with a pint of ice cream, spicy Doritos and soda cause it tastes that darn good. And you&#39;ll find it easier to rationalize to yourself, because you ate 2 solid healthy meals. This is alleviated by forcing yourself to cook. The Soylentarian lifestyle affords you much more time, money and energy to devote to real food, when the modd strikes you. Use your newfound resources to learn to cook again. At my house, we have 5 roommates but we try to eat dinner together. It&#39;s an important human ritual, one I didn&#39;t appreciate until it was gone. Cooking can be fun and rewarding. Eating can be an aesthetic experience. Both should be social opportunities.</p>
<p>Lastly, you <em>will</em> run into anti-Soylentarians. There&#39;s a lot of them in Portland and I&#39;m sure you know the type. Nutrition-istas and Food Babes everywhere will grimace with horror as you down your Soylent. Just smile back and direct them to the forums, where all manner of nutritional arguments are held.</p>
        </article>
        <article>
          <header>
            <h2>Generators</h2>
            <time>February 12th 2015</time>
          </header>
          <hr><p>This entry was auto-generated and includes a <code>publishedAt</code> time stamp. </p>
        </article>
        <article>
          <header>
            <h2>Dogs</h2>
            <time>February 12th 2015</time>
          </header>
          <hr><p><img src="/blog/3-Dogs/dogs.jpg" alt="This is a picture of my dogs."></p>
        </article>
        <article>
          <header>
            <h2>Status update</h2>
            <time>February 17th 2015</time>
          </header>
          <hr><ul>
<li>I used <a href="http://necolas.github.io/normalize.css/">Normalize.css</a> for a base, <a href="http://philipwalton.github.io/solved-by-flexbox/demos/holy-grail/">Holy Grail</a> to implement a fluid layout and a sticky footer and for typography, <a href="http://devinhunt.github.io/typebase.css/">Typebase.css</a>. Of course, I&#39;ve added my own <a href="https://github.com/adamwong246/adamwong246.github.io/blob/master/_src/style.css">light touch</a> but so far, it&#39;s quite a neutral theme.</li>
<li>Each blog is now routed to a nicer url and jpgs included in the same file get re-mapped to a absolute url, so managing images for specific blog entries is easy.</li>
<li>I used the same technique that generates my resume to turn the <code>README.md</code> into an html file.</li>
</ul>
<p>Of course, you can see for yourself by <a href="https://github.com/adamwong246/adamwong246.github.io/commits/master">tracking the commits on github</a>! And if you wanted to see what&#39;s next on my todo list, check out the <a href="https://github.com/adamwong246/adamwong246.github.io/issues">issues</a>.</p>
<p>Finally, I bumped the version to <code>0.1.0</code>, which according to SemVer I should have done already. </p>
        </article>
        <article>
          <header>
            <h2>Something he’d found and lost so many times</h2>
            <time>April 29th 2015</time>
          </header>
          <hr><p>“It belonged, he knew – he remembered – as she pulled him down, to the meat, the flesh the cowboys mocked. It was a vast thing, beyond knowing, a sea of information coded in spiral and pheromone, infinite intricacy that only the body, in its strong blind way, could ever read.” 
― William Gibson, Neuromancer</p>
        </article>
      </main>
      <nav class="HolyGrail-nav"><a href="/">
          <h1 class="site_title">
            亚飞，
            <br/>
			坚强！
          </h1></a>
        <ul class="contacts">
          <li><a href="mailto:xieyafei1990@yeah.net">xieyafei1990@yeah.net</a></li>
		  <li>捐款账户信息：</li>
		  <li>户名：谢亚飞  卡号：6217002670006382123</li>
		  <li>开户行：中国建设银行湖北老河口支行营业部</li>
		  <li>户名：谢亚飞  卡号：6210137282940868</li>
		  <li>开户行：湖北老河口农村商业银行童营支行</li>
		  
<!--
          <li><a href="https://twitter.com/adamwong246">twitter</a></li>
          <li><a href="github.com/adamwong246">github</a></li>
          <li><a href="http://stackexchange.com/users/304854/adamwong246?tab=top">stack exchange</a></li>
-->
        </ul>
<!--        
		<ul class="pages">
          <li><a href="/README.html">README.html</a></li>
          <li><a href="/resume.html">resume.html</a></li>
          <li><a href="/resume.pdf">resume.pdf</a></li>
          <li><a href="https://raw.githubusercontent.com/adamwong246/adamwong246.github.io/master/_src/resume.md">resume.md</a></li>
        </ul>
-->
        <ul class="blog_entries">
          <li><a href="/blog/5-Meteor-the-first-month">Meteor: the first month</a></li>
          <li><a href="/blog/0-First-post">First post</a></li>
          <li><a href="/blog/1-Soylent-day-to-day">Soylent, day to day</a></li>
          <li><a href="/blog/2-Generators">Generators</a></li>
          <li><a href="/blog/3-Dogs">Dogs</a></li>
          <li><a href="/blog/4-Status-update">Status update</a></li>
          <li><a href="/blog/6-Something-hed-found-and-lost-so-many-times">Something he’d found and lost so many times</a></li>
        </ul>
      </nav>
      <!--aside.HolyGrail-ads-->
    </div>
    <footer><a href="/">home</a><br><a href="https://github.com/iyafei/iyafei.github.io">source</a><br>v0.4.0<br><span>Adam Wong</span><br><a href="mailto:adamwong246@gmail.com">adamwong246@gmail.com</a><br><span>2015</span>
    </footer>
  </body>
</html>